<div class="scanner-container" [class.capturing]="isCapturing">
  <video #videoElement autoplay playsinline muted></video>
  <canvas #canvasElement></canvas>

  <div class="score-display" *ngIf="config.showScore" [style.color]="scoreColor" [class.high-score]="score >= config.captureThreshold">
    <span class="score-value">{{ score }}%</span>
    <div class="score-details" *ngIf="config.showSubScores">
      <span>Stability: {{ stabilityScore }}%</span>
      <span>Sharpness: {{ sharpnessScore }}%</span>
      <span>Lighting: {{ lightingScore }}%</span>
    </div>
  </div>

  <div class="countdown-indicator" *ngIf="isCountingDown">
    <svg class="countdown-circle" width="90" height="90">
      <circle
        cx="45"
        cy="45"
        r="40"
        [attr.stroke-dasharray]="countdownCircumference"
        [attr.stroke-dashoffset]="countdownOffset"
      ></circle>
    </svg>
    <span class="countdown-text">{{ countdownSeconds }}s</span>
  </div>

  <div class="capture-flash" [class.active]="flashActive"></div>

  <div class="capture-success" *ngIf="captureComplete">
    <span class="checkmark">âœ“</span>
    <p>Document Captured!</p>
  </div>

  <button class="capture-button" type="button" (click)="manualCapture()">
    <span>ðŸ“· Capture</span>
  </button>
</div>
